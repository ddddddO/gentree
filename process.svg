<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="835px" preserveAspectRatio="none" style="width:501px;height:835px;background:#008B8B;" version="1.1" viewBox="0 0 501 835" width="501px" zoomAndPan="magnify"><defs/><g><!--MD5=[6328af41db0f7dbb733c9192827ed26b]
cluster pipeline--><g id="cluster_pipeline"><rect fill="none" height="756.72" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="440" x="7" y="73"/><path d="M74,73 L74,83.6094 L64,93.6094 L7,93.6094 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="57" x="10" y="88.5332">Pipeline</text></g><!--MD5=[dfbaac2615e6b58919aa7dca9cc5848c]
entity split_proc--><g id="elem_split_proc"><ellipse cx="233" cy="177.72" fill="#F1F1F1" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="229,165.72,235,160.72,233,165.72,235,170.72,229,165.72" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="202" y="208.2532">Split input</text></g><!--MD5=[883626f3ee9e613e4e1695c2a8f9e35f]
entity generate_root_worker--><g id="elem_generate_root_worker"><ellipse cx="216" cy="287.72" fill="#F1F1F1" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="212,275.72,218,270.72,216,275.72,218,280.72,212,275.72" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="153.5" y="318.2532">Generate root node</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="153.5" y="335.8626">(10 workers)</text></g><!--MD5=[d42658a875e6b366d8ed22b8f1d49d51]
entity grow_worker--><g id="elem_grow_worker"><ellipse cx="238" cy="414.72" fill="#F1F1F1" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="234,402.72,240,397.72,238,402.72,240,407.72,234,402.72" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="189" y="445.2532">Grow root node</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="189" y="462.8626">(10 workers)</text></g><!--MD5=[d0e066c1a14392698745467dd17d345b]
entity spread_worker--><g id="elem_spread_worker"><ellipse cx="166" cy="644.72" fill="#F1F1F1" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="162,632.72,168,627.72,166,632.72,168,637.72,162,632.72" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="110.5" y="675.2532">Spread root node</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="110.5" y="692.8626">(10 workers)</text></g><!--MD5=[dabf35e28b0fe3e280879f10955a7220]
entity mkdir_worker--><g id="elem_mkdir_worker"><ellipse cx="306" cy="644.72" fill="#F1F1F1" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="302,632.72,308,627.72,306,632.72,308,637.72,302,632.72" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="256.5" y="675.2532">Mkdir root node</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="256.5" y="692.8626">(10 workers)</text></g><!--MD5=[c5c948d6d2820c5c03fe633a7cc80e1b]
entity error_handler--><g id="elem_error_handler"><ellipse cx="236" cy="771.72" fill="#CC6699" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="232,759.72,238,754.72,236,759.72,238,764.72,232,759.72" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="174.5" y="802.2532">Handle error queue</text></g><!--MD5=[bdc70ded9b301535bd788a3720b71b1a]
entity split_q--><g id="elem_split_q"><path d="M36.5,291.22 L113.5,291.22 C118.5,291.22 118.5,305.0247 118.5,305.0247 C118.5,305.0247 118.5,318.8294 113.5,318.8294 L36.5,318.8294 C31.5,318.8294 31.5,305.0247 31.5,305.0247 C31.5,305.0247 31.5,291.22 36.5,291.22 " fill="#00BFFF" style="stroke:#0000FF;stroke-width:0.5;"/><path d="M113.5,291.22 C108.5,291.22 108.5,305.0247 108.5,305.0247 C108.5,318.8294 113.5,318.8294 113.5,318.8294 " fill="none" style="stroke:#0000FF;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="36.5" y="310.7532">Root block</text></g><!--MD5=[6e6f018fbbc8ddecf21b773d66d61cba]
entity root_q--><g id="elem_root_q"><path d="M73,418.22 L149,418.22 C154,418.22 154,432.0247 154,432.0247 C154,432.0247 154,445.8294 149,445.8294 L73,445.8294 C68,445.8294 68,432.0247 68,432.0247 C68,432.0247 68,418.22 73,418.22 " fill="#00BFFF" style="stroke:#0000FF;stroke-width:0.5;"/><path d="M149,418.22 C144,418.22 144,432.0247 144,432.0247 C144,445.8294 149,445.8294 149,445.8294 " fill="none" style="stroke:#0000FF;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="73" y="437.7532">Root node</text></g><!--MD5=[759ebcdd875c10595d278c9d978c4973]
entity growing_q--><g id="elem_growing_q"><path d="M110,533.22 L234,533.22 C239,533.22 239,547.0247 239,547.0247 C239,547.0247 239,560.8294 234,560.8294 L110,560.8294 C105,560.8294 105,547.0247 105,547.0247 C105,547.0247 105,533.22 110,533.22 " fill="#00BFFF" style="stroke:#0000FF;stroke-width:0.5;"/><path d="M234,533.22 C229,533.22 229,547.0247 229,547.0247 C229,560.8294 234,560.8294 234,560.8294 " fill="none" style="stroke:#0000FF;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="110" y="552.7532">Growed root node</text></g><g id="elem_GMN15"><path d="M274,525.72 L274,543.22 L239.27,547.22 L274,551.22 L274,568.4231 A0,0 0 0 0 274,568.4231 L386,568.4231 A0,0 0 0 0 386,568.4231 L386,535.72 L376,525.72 L274,525.72 A0,0 0 0 0 274,525.72 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M376,525.72 L376,535.72 L386,535.72 L376,525.72 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="280" y="544.2151">Next process is</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="280" y="560.5667">Spred or Mkdir.</text></g><!--MD5=[c88a36799ca4d6dff2d7449eacfc25f7]
entity start--><g id="elem_start"><ellipse cx="352" cy="23.5" fill="#CCFF33" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="329" y="55.0332">START</text></g><g id="elem_init"><ellipse cx="232.981" cy="23.2962" fill="#F1F1F1" rx="74.481" ry="17.2962" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="179.981" y="27.8128">Launch pipeline</text></g><!--MD5=[22efa60cf2b4332bf8574b0c93969d71]
entity end--><g id="elem_end"><ellipse cx="480" cy="780.72" fill="#CCFF33" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="466" y="812.2532">END</text></g><!--MD5=[9dfef6e1eaf8bf1c48c194e00c46aa5b]
reverse link init to start--><g id="link_init_start"><path d="M327.98,23.5 C332.88,23.5 337.78,23.5 342.68,23.5 " fill="none" id="init-backto-start" style="stroke:#00BFFF;stroke-width:1.0;"/><polygon fill="none" points="327.84,30.5,307.84,23.5,327.84,16.5,327.84,30.5" style="stroke:#00BFFF;stroke-width:1.0;"/></g><!--MD5=[7060c70beb0e2460c89b992bca283af7]
link init to pipeline--><g id="link_init_pipeline"><path d="M233,41.34 C233,46.7525 233,53.005 233,59.3731 C233,62.5572 233,65.7702 233,68.9215 C233,69.7093 233,70.4933 233,71.272 C233,71.6614 233,72.0494 233,72.4359 C233,72.5326 233,72.6291 233,72.7256 " fill="none" id="init-to-pipeline" style="stroke:#00BFFF;stroke-width:1.0;"/><polygon fill="#008B8B" points="233,72.7256,240,53.7256,226,53.7256,233,72.7256" style="stroke:#00BFFF;stroke-width:1.0;"/></g><!--MD5=[4bc466e259f359bb306de2e4df9da546]
link pipeline to split_proc--><g id="link_pipeline_split_proc"><path d="M233,101.78 C233,102.98 233,121.83 233,141.35 " fill="none" id="pipeline-to-split_proc" style="stroke:#00BFFF;stroke-width:1.0;"/><polygon fill="none" points="240,141.62,233,161.62,226,141.62,240,141.62" style="stroke:#00BFFF;stroke-width:1.0;"/></g><!--MD5=[ff9ebe33644ea2cb0ff22f31693c8b88]
link split_proc to split_q--><g id="link_split_proc_split_q"><path d="M201.78,210.74 C175.08,230.43 136.7,258.72 109.18,279.02 " fill="none" id="split_proc-to-split_q" style="stroke:#00BFFF;stroke-width:1.0;"/><polygon fill="none" points="113.14,284.8,92.89,291.03,104.83,273.53,113.14,284.8" style="stroke:#00BFFF;stroke-width:1.0;"/></g><!--MD5=[12cd5d76f0e65352ab6f4dee1eb8cb7d]
link split_q to generate_root_worker--><g id="link_split_q_generate_root_worker"><path d="M118.51,305.22 C123.38,305.22 128.26,305.22 133.13,305.22 " fill="none" id="split_q-to-generate_root_worker" style="stroke:#00BFFF;stroke-width:1.0;"/><polygon fill="none" points="133.17,298.22,153.17,305.22,133.17,312.22,133.17,298.22" style="stroke:#00BFFF;stroke-width:1.0;"/></g><!--MD5=[b33f49e90cd4e1fd8720b8291fe977c4]
link generate_root_worker to root_q--><g id="link_generate_root_worker_root_q"><path d="M188.69,338.74 C172.03,358.56 150.94,383.67 134.94,402.72 " fill="none" id="generate_root_worker-to-root_q" style="stroke:#00BFFF;stroke-width:1.0;"/><polygon fill="none" points="140.18,407.37,121.95,418.18,129.46,398.36,140.18,407.37" style="stroke:#00BFFF;stroke-width:1.0;"/></g><!--MD5=[a2cfaee57afe5b9845ef0994b8c4ab3e]
link root_q to grow_worker--><g id="link_root_q_grow_worker"><path d="M154.16,432.22 C159.04,432.22 163.92,432.22 168.81,432.22 " fill="none" id="root_q-to-grow_worker" style="stroke:#00BFFF;stroke-width:1.0;"/><polygon fill="none" points="168.88,425.22,188.88,432.22,168.88,439.22,168.88,425.22" style="stroke:#00BFFF;stroke-width:1.0;"/></g><!--MD5=[721c3eb2ec58c4fb8b852468b49ceef6]
link grow_worker to growing_q--><g id="link_grow_worker_growing_q"><path d="M218.91,465.9 C209.7,481.67 198.72,500.46 189.7,515.91 " fill="none" id="grow_worker-to-growing_q" style="stroke:#00BFFF;stroke-width:1.0;"/><polygon fill="none" points="195.74,519.46,179.61,533.2,183.65,512.39,195.74,519.46" style="stroke:#00BFFF;stroke-width:1.0;"/></g><!--MD5=[de34a8e20bc479fcbeeac231718bc084]
link growing_q to spread_worker--><g id="link_growing_q_spread_worker"><path d="M171.29,561.63 C170.67,573.33 169.72,591.1 168.8,608.41 " fill="none" id="growing_q-to-spread_worker" style="stroke:#00BFFF;stroke-width:1.0;"/><polygon fill="none" points="175.79,608.89,167.74,628.49,161.81,608.15,175.79,608.89" style="stroke:#00BFFF;stroke-width:1.0;"/></g><!--MD5=[be6142c83553d78fb2a5714d092f81e4]
link growing_q to mkdir_worker--><g id="link_growing_q_mkdir_worker"><path d="M187.63,561.4 C203.4,574.7 228.64,595.98 251.77,615.49 " fill="none" id="growing_q-to-mkdir_worker" style="stroke:#00BFFF;stroke-width:1.0;"/><polygon fill="none" points="256.53,610.35,267.31,628.59,247.5,621.05,256.53,610.35" style="stroke:#00BFFF;stroke-width:1.0;"/></g><!--MD5=[b871ecd41fe4c3ecb90f2cb075ad31dc]
link split_proc to error_handler--><g id="link_split_proc_error_handler"><path d="M264.21,207.65 C317.89,244.66 422,329.54 422,431.22 C422,431.22 422,431.22 422,548.22 C422,617.3 415.94,641.61 373,695.72 C353.49,720.31 324.67,739.5 298.5,753.3 " fill="none" id="split_proc-to-error_handler" style="stroke:#00BFFF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#00BFFF" points="293.98,755.64,303.8114,755.0546,298.4203,753.3413,300.1336,747.9502,293.98,755.64" style="stroke:#00BFFF;stroke-width:1.0;"/></g><!--MD5=[9d8f92d26597db377782d507a4a25abd]
link generate_root_worker to error_handler--><g id="link_generate_root_worker_error_handler"><path d="M153.11,333.35 C111.57,352.71 62.7,378.74 51,398.72 C35.95,424.41 50.22,435.95 51,465.72 C53.67,568.05 6.44,610.41 63,695.72 C87.01,731.94 131.33,753.04 169.09,765.04 " fill="none" id="generate_root_worker-to-error_handler" style="stroke:#00BFFF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#00BFFF" points="174.14,766.6,166.7361,760.1052,169.3661,765.1135,164.3577,767.7435,174.14,766.6" style="stroke:#00BFFF;stroke-width:1.0;"/></g><!--MD5=[34c1f5504cd331638b6a6a5e9aec81f0]
link grow_worker to error_handler--><g id="link_grow_worker_error_handler"><path d="M188.67,460.45 C147.2,483.85 93.76,515.4 88,525.72 C72.32,553.8 54.08,630.73 93,695.72 C110.13,724.33 141.02,744.24 169.72,757.47 " fill="none" id="grow_worker-to-error_handler" style="stroke:#00BFFF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#00BFFF" points="174.31,759.54,167.7528,752.1913,169.7528,757.4828,164.4613,759.4829,174.31,759.54" style="stroke:#00BFFF;stroke-width:1.0;"/></g><!--MD5=[bacc60e9b81586414dc8afc0c49b454b]
link spread_worker to error_handler--><g id="link_spread_worker_error_handler"><path d="M185.69,695.98 C196.11,713.33 208.79,734.43 218.81,751.12 " fill="none" id="spread_worker-to-error_handler" style="stroke:#00BFFF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#00BFFF" points="221.57,755.7,220.3695,745.9246,218.9975,751.4125,213.5096,750.0405,221.57,755.7" style="stroke:#00BFFF;stroke-width:1.0;"/></g><!--MD5=[1c5e2e87900e61b3fd8f405c4137e846]
link mkdir_worker to error_handler--><g id="link_mkdir_worker_error_handler"><path d="M286.31,695.98 C275.89,713.33 263.21,734.43 253.19,751.12 " fill="none" id="mkdir_worker-to-error_handler" style="stroke:#00BFFF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#00BFFF" points="250.43,755.7,258.4904,750.0405,253.0025,751.4125,251.6305,745.9246,250.43,755.7" style="stroke:#00BFFF;stroke-width:1.0;"/></g><!--MD5=[0bb1f239f0087c15a42ea90f85b82673]
link error_handler to end--><g id="link_error_handler_end"><path d="M297.95,780.72 C348.8,780.72 399.65,780.72 450.51,780.72 " fill="none" id="error_handler-to-end" style="stroke:#00BFFF;stroke-width:1.0;"/><polygon fill="none" points="450.76,773.72,470.76,780.72,450.76,787.72,450.76,773.72" style="stroke:#00BFFF;stroke-width:1.0;"/></g><!--MD5=[11c555383468a6ac65d3754cf2277cf5]
@startuml
skinparam {
  backgroundColor DarkCyan

  InterfaceBackgroundColor #CCFF33
  ComponentStyle rectangle
  ArrowColor DeepSkyBlue
  QueueBorderColor blue
  QueueBackgroundColor DeepSkyBlue
}


' stages
interface "START" as start

(Launch pipeline) as init

frame "Pipeline" as pipeline {
  control "Split input" as split_proc
  control "Generate root node\n(10 workers)" as generate_root_worker
  control "Grow root node\n(10 workers)" as grow_worker
  control "Spread root node\n(10 workers)" as spread_worker
  control "Mkdir root node\n(10 workers)" as mkdir_worker
  control "Handle error queue" as error_handler #CC6699

  queue "Root block" as split_q
  queue "Root node" as root_q
  queue "Growed root node" as growing_q
  note right of growing_q
  Next process is
  Spred or Mkdir.
  end note
}

interface "END" as end


' flow
init <|- start
init - -|> pipeline
pipeline - -|> split_proc
split_proc - -|> split_q
split_q -|> generate_root_worker
generate_root_worker - -|> root_q
root_q -|> grow_worker
grow_worker - -|> growing_q
growing_q -|> spread_worker
growing_q - -|> mkdir_worker

split_proc ..> error_handler
generate_root_worker ..> error_handler
grow_worker ..> error_handler
spread_worker ..> error_handler
mkdir_worker ..> error_handler

error_handler -|> end
@enduml

@startuml
skinparam {
  backgroundColor DarkCyan

  InterfaceBackgroundColor #CCFF33
  ComponentStyle rectangle
  ArrowColor DeepSkyBlue
  QueueBorderColor blue
  QueueBackgroundColor DeepSkyBlue
}


interface "START" as start

(Launch pipeline) as init

frame "Pipeline" as pipeline {
  control "Split input" as split_proc
  control "Generate root node\n(10 workers)" as generate_root_worker
  control "Grow root node\n(10 workers)" as grow_worker
  control "Spread root node\n(10 workers)" as spread_worker
  control "Mkdir root node\n(10 workers)" as mkdir_worker
  control "Handle error queue" as error_handler #CC6699

  queue "Root block" as split_q
  queue "Root node" as root_q
  queue "Growed root node" as growing_q
  note right of growing_q
  Next process is
  Spred or Mkdir.
  end note
}

interface "END" as end


init <|- start
init - -|> pipeline
pipeline - -|> split_proc
split_proc - -|> split_q
split_q -|> generate_root_worker
generate_root_worker - -|> root_q
root_q -|> grow_worker
grow_worker - -|> growing_q
growing_q -|> spread_worker
growing_q - -|> mkdir_worker

split_proc ..> error_handler
generate_root_worker ..> error_handler
grow_worker ..> error_handler
spread_worker ..> error_handler
mkdir_worker ..> error_handler

error_handler -|> end
@enduml

PlantUML version 1.2022.7(Tue Aug 23 02:01:30 JST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: MS932
Language: ja
Country: JP
--></g></svg>